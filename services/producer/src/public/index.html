<!DOCTYPE html>
<html>
<head>
   <title>Create Job</title>
</head>
<body>
   <h1>Create single job</h1>
   <form id="createSingleJob">
      <label for="animal">Animal:</label>
      <input id="animal" name="animal" value="Turtle">
      <button type="submit">Create</button>
   </form>
   <hr />
   <h1>Send multiple jobs</h1>
   <form id="createMultipleJobs">
      <label for="jobCount">Jobs to create:</label>
      <input id="jobCount" name="count" type="number" value="10">
      <button type="submit">Create</button>
   </form>
   <script>
      function sendJob(job) {
         var xhr = new XMLHttpRequest();

         xhr.open('POST', '/');
         xhr.setRequestHeader('Content-Type', 'application/json');
         xhr.send(JSON.stringify(job));
      }

      document.getElementById('createSingleJob').addEventListener('submit', function(event) {
         event.preventDefault();

         sendJob({ animal: document.getElementById('animal').value });
      });

      document.getElementById('createMultipleJobs').addEventListener('submit', function(event) {
         event.preventDefault();

         for (var i = 0; i < document.getElementById('jobCount').value; i++) {
            sendJob({ animal: 'capybara' });
         }
      });
   </script>
</body>
</html>
